{"version":3,"sources":["screens/MainScreen/components/form/index.js","screens/MainScreen/components/card/index.js","screens/MainScreen/index.js","App.js","index.js"],"names":["currentYear","Date","getFullYear","monthsArr","Array","from","length","x","i","month","yearsArr","_x","CForm","cardMonth","cardYear","onUpdateState","cardNumberRef","cardHolderRef","cardDateRef","onCardInputFocus","onCardInputBlur","cardCvv","children","useState","cardNumber","setCardNumber","handleFormChange","event","target","name","value","className","htmlFor","type","autoComplete","onChange","replace","test","trimRight","maxLength","ref","onFocus","e","onBlur","disabled","map","val","index","key","class","onClick","window","ReactNativeWebView","postMessage","toString","CARDS","visa","amex","mastercard","discover","unionpay","troy","diners","BACKGROUND_IMG","random","Math","floor","cardBackgroundName","Card","cardHolder","isCardFlipped","currentFocusedElm","onCardElementClick","style","setStyle","useCardType","useMemo","re","number","Object","entries","card","pattern","RegExp","match","cardType","useEffect","element","current","width","offsetWidth","height","offsetHeight","transform","offsetLeft","offsetTop","alt","src","TransitionGroup","component","cardNumberArr","split","forEach","maskCardNumber","CSSTransition","classNames","timeout","SwitchTransition","in-out","out-in","substr","initialState","MainScreen","state","setState","setCurrentFocusedElm","updateStateValues","useCallback","keyName","formFieldsRefObj","useRef","cardDate","focusFormFieldByKey","focus","cardElementsRef","_event","inputName","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.15871e1f.chunk.js","sourcesContent":["import React, { useEffect, useState, useRef } from 'react';\n\nconst currentYear = new Date().getFullYear();\nconst monthsArr = Array.from({ length: 12 }, (x, i) => {\n    const month = i + 1;\n    return month <= 9 ? '0' + month : month;\n});\nconst yearsArr = Array.from({ length: 9 }, (_x, i) => currentYear + i);\n\nexport default function CForm({\n    cardMonth,\n    cardYear,\n    onUpdateState,\n    cardNumberRef,\n    cardHolderRef,\n    cardDateRef,\n    onCardInputFocus,\n    onCardInputBlur,\n    cardCvv,\n    children\n}) {\n    const [cardNumber, setCardNumber] = useState('');\n    const [cardCVV3, setCardCVV3] = useState('');\n    const [cardHolderName, setCardHolderName] = useState('');\n    const handleFormChange = (event) => {\n        const { name, value } = event.target;\n        onUpdateState(name, value);\n    };\n\n    const onCardNumberChange = (event) => {\n        let { value, name } = event.target;\n        let cardNumber = value;\n        value = value.replace(/\\D/g, '');\n        if (/^3[47]\\d{0,13}$/.test(value)) {\n            cardNumber = value\n                .replace(/(\\d{4})/, '$1 ')\n                .replace(/(\\d{4}) (\\d{6})/, '$1 $2 ');\n        } else if (/^3(?:0[0-5]|[68]\\d)\\d{0,11}$/.test(value)) {\n            // diner's club, 14 digits\n            cardNumber = value\n                .replace(/(\\d{4})/, '$1 ')\n                .replace(/(\\d{4}) (\\d{6})/, '$1 $2 ');\n        } else if (/^\\d{0,16}$/.test(value)) {\n            // regular cc number, 16 digits\n            cardNumber = value\n                .replace(/(\\d{4})/, '$1 ')\n                .replace(/(\\d{4}) (\\d{4})/, '$1 $2 ')\n                .replace(/(\\d{4}) (\\d{4}) (\\d{4})/, '$1 $2 $3 ');\n        }\n\n        setCardNumber(cardNumber.trimRight());\n        onUpdateState(name, cardNumber);\n    };\n\n    const onCvvFocus = (event) => {\n        onUpdateState('isCardFlipped', true);\n    };\n\n    const onCvvBlur = (event) => {\n        onUpdateState('isCardFlipped', false);\n    };\n\n    const launchMandate = () => {\n        if(window.ReactNativeWebView) {\n            // TODO: replace 0, 0 with cardCvv, cardHolder\n            window.ReactNativeWebView.postMessage([cardNumber, cardMonth, cardYear, 0, 0].toString())\n        }\n    };\n\n    // NOTE: Currently the cursor on the card number field gets reset if we remove a number, the code bellow was used\n    // in class components, need to transform this to work with functional components.\n    // getSnapshotBeforeUpdate() {\n    //     return this.props.cardNumberRef.current.selectionStart;\n    // }\n\n    // const componentDidUpdate = function (prevProps, prevState, cursorIdx) {\n    //     const node = cardNumberRef.current;\n    //     const { cardNumber: cardNum } = state;\n    //     const { cardNumber: prevCardNum } = prevState;\n    //     if (\n    //         cardNum.length > prevCardNum.length &&\n    //         cardNum[cursorIdx - 1] === ' '\n    //     ) {\n    //         cursorIdx += 1;\n    //     } else if (prevCardNum[cursorIdx - 1] === ' ') {\n    //         cursorIdx -= 1;\n    //     }\n    //     node.selectionStart = node.selectionEnd = cursorIdx;\n    // };\n\n    return (\n        <div className=\"card-form\">\n            <div className=\"card-list\">{children}</div>\n            <div className=\"card-form__inner\">\n                <div className=\"card-input\">\n                    <label htmlFor=\"cardNumber\" className=\"card-input__label\">\n                        card number\n                    </label>\n                    <input\n                        type=\"tel\"\n                        name=\"cardNumber\"\n                        className=\"card-input__input\"\n                        autoComplete=\"off\"\n                        onChange={onCardNumberChange}\n                        maxLength=\"19\"\n                        ref={cardNumberRef}\n                        onFocus={(e) => onCardInputFocus(e, 'cardNumber')}\n                        onBlur={onCardInputBlur}\n                        value={cardNumber}\n                    />\n                </div>\n\n                <div className=\"card-input\">\n                    <label htmlFor=\"cardName\" className=\"card-input__label\">\n                        card holder\n                    </label>\n                    <input\n                        type=\"text\"\n                        className=\"card-input__input\"\n                        autoComplete=\"off\"\n                        name=\"cardHolder\"\n                        onChange={handleFormChange}\n                        ref={cardHolderRef}\n                        onFocus={(e) => onCardInputFocus(e, 'cardHolder')}\n                        onBlur={onCardInputBlur}\n                    />\n                </div>\n\n                <div className=\"card-form__row\">\n                    <div className=\"card-form__col\">\n                        <div className=\"card-form__group\">\n                            <label\n                                htmlFor=\"cardMonth\"\n                                className=\"card-input__label\"\n                            >\n                                expiration date\n                            </label>\n                            <select\n                                className=\"card-input__input -select\"\n                                value={cardMonth}\n                                name=\"cardMonth\"\n                                onChange={handleFormChange}\n                                ref={cardDateRef}\n                                onFocus={(e) => onCardInputFocus(e, 'cardDate')}\n                                onBlur={onCardInputBlur}\n                            >\n                                <option value=\"\" disabled>\n                                    month\n                                </option>\n\n                                {monthsArr.map((val, index) => (\n                                    <option key={index} value={val}>\n                                        {val}\n                                    </option>\n                                ))}\n                            </select>\n                            <select\n                                name=\"cardYear\"\n                                className=\"card-input__input -select\"\n                                value={cardYear}\n                                onChange={handleFormChange}\n                                onFocus={(e) => onCardInputFocus(e, 'cardDate')}\n                                onBlur={onCardInputBlur}\n                            >\n                                <option value=\"\" disabled>\n                                    year\n                                </option>\n\n                                {yearsArr.map((val, index) => (\n                                    <option key={index} value={val}>\n                                        {val}\n                                    </option>\n                                ))}\n                            </select>\n                        </div>\n                    </div>\n                    <div className=\"card-form__col -cvv\">\n                        <div className=\"card-input\">\n                            <label\n                                htmlFor=\"cardCvv\"\n                                className=\"card-input__label\"\n                            >\n                                CVV\n                            </label>\n                            <input\n                                type=\"tel\"\n                                className=\"card-input__input\"\n                                maxLength=\"4\"\n                                autoComplete=\"off\"\n                                name=\"cardCvv\"\n                                onChange={handleFormChange}\n                                onFocus={onCvvFocus}\n                                onBlur={onCvvBlur}\n                                ref={cardCvv}\n                            />\n                        </div>\n                    </div>\n                </div>\n                <button class=\"card-form__button\" onClick={launchMandate}>\n                    submit\n                </button>\n            </div>\n        </div>\n    );\n}\n","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport {\n    CSSTransition,\n    TransitionGroup,\n    SwitchTransition\n} from 'react-transition-group';\nimport './styles.scss';\n\nconst CARDS = {\n    visa: '^4',\n    amex: '^(34|37)',\n    mastercard: '^5[1-5]',\n    discover: '^6011',\n    unionpay: '^62',\n    troy: '^9792',\n    diners: '^(30[0-5]|36)'\n};\n\nconst cardBackgroundName = () => {\n    let random = Math.floor(Math.random() * 25 + 1);\n    return `${random}.jpeg`;\n};\n\nconst BACKGROUND_IMG = cardBackgroundName();\n\nconst Card = ({\n    cardHolder,\n    cardNumber,\n    cardMonth,\n    cardYear,\n    cardCvv,\n    isCardFlipped,\n    currentFocusedElm,\n    onCardElementClick,\n    cardNumberRef,\n    cardHolderRef,\n    cardDateRef\n}) => {\n    const [style, setStyle] = useState(null);\n\n    const cardType = (cardNumber) => {\n        const number = cardNumber;\n        let re;\n        for (const [card, pattern] of Object.entries(CARDS)) {\n            re = new RegExp(pattern);\n            if (number.match(re) != null) {\n                return card;\n            }\n        }\n\n        return 'visa'; // default type\n    };\n\n    const useCardType = useMemo(() => {\n        return cardType(cardNumber);\n    }, [cardNumber]);\n\n    const outlineElementStyle = (element) => {\n        return element\n            ? {\n                  width: `${element.offsetWidth}px`,\n                  height: `${element.offsetHeight}px`,\n                  transform: `translateX(${element.offsetLeft}px) translateY(${element.offsetTop}px)`\n              }\n            : null;\n    };\n\n    useEffect(() => {\n        if (currentFocusedElm) {\n            const style = outlineElementStyle(currentFocusedElm.current);\n            setStyle(style);\n        }\n    }, [currentFocusedElm]);\n\n    const maskCardNumber = (cardNumber) => {\n        let cardNumberArr = cardNumber.split('');\n        cardNumberArr.forEach((val, index) => {\n            if (index > 4 && index < 14) {\n                if (cardNumberArr[index] !== ' ') {\n                    cardNumberArr[index] = '*';\n                }\n            }\n        });\n\n        return cardNumberArr;\n    };\n\n    return (\n        <div className={'card-item ' + (isCardFlipped ? '-active' : '')}>\n            <div className=\"card-item__side -front\">\n                <div\n                    className={`card-item__focus ${\n                        currentFocusedElm ? `-active` : ``\n                    }`}\n                    style={style}\n                />\n                <div className=\"card-item__cover\">\n                    <img\n                        alt=\"\"\n                        src={`/mandate/card-background/${BACKGROUND_IMG}`}\n                        className=\"card-item__bg\"\n                    />\n                </div>\n\n                <div className=\"card-item__wrapper\">\n                    <div className=\"card-item__top\">\n                        <img\n                            src={'/chip.png'}\n                            alt=\"\"\n                            className=\"card-item__chip\"\n                        />\n                        <div className=\"card-item__type\">\n                            <img\n                                alt={useCardType}\n                                src={`/mandate/card-type/${useCardType}.png`}\n                                className=\"card-item__typeImg\"\n                            />\n                        </div>\n                    </div>\n\n                    <label\n                        className=\"card-item__number\"\n                        ref={cardNumberRef}\n                        onClick={() => onCardElementClick('cardNumber')}\n                    >\n                        <TransitionGroup\n                            className=\"slide-fade-up\"\n                            component=\"div\"\n                        >\n                            {cardNumber ? (\n                                maskCardNumber(cardNumber).map((val, index) => (\n                                    <CSSTransition\n                                        classNames=\"slide-fade-up\"\n                                        timeout={250}\n                                        key={index}\n                                    >\n                                        <div className=\"card-item__numberItem\">\n                                            {val}\n                                        </div>\n                                    </CSSTransition>\n                                ))\n                            ) : (\n                                <CSSTransition\n                                    classNames=\"slide-fade-up\"\n                                    timeout={250}\n                                >\n                                    <div className=\"card-item__numberItem\">\n                                        #\n                                    </div>\n                                </CSSTransition>\n                            )}\n                        </TransitionGroup>\n                    </label>\n                    <div className=\"card-item__content\">\n                        <label\n                            className=\"card-item__info\"\n                            onClick={() => onCardElementClick('cardHolder')}\n                            ref={cardHolderRef}\n                        >\n                            <div className=\"card-item__holder\">Card Holder</div>\n                            <div className=\"card-item__name\">\n                                <TransitionGroup\n                                    component=\"div\"\n                                    className=\"slide-fade-up\"\n                                >\n                                    {cardHolder === 'FULL NAME' ? (\n                                        <CSSTransition\n                                            classNames=\"slide-fade-up\"\n                                            timeout={250}\n                                        >\n                                            <div>FULL NAME</div>\n                                        </CSSTransition>\n                                    ) : (\n                                        cardHolder\n                                            .split('')\n                                            .map((val, index) => (\n                                                <CSSTransition\n                                                    timeout={250}\n                                                    classNames=\"slide-fade-right\"\n                                                    key={index}\n                                                >\n                                                    <span className=\"card-item__nameItem\">\n                                                        {val}\n                                                    </span>\n                                                </CSSTransition>\n                                            ))\n                                    )}\n                                </TransitionGroup>\n                            </div>\n                        </label>\n                        <div\n                            className=\"card-item__date\"\n                            onClick={() => onCardElementClick('cardDate')}\n                            ref={cardDateRef}\n                        >\n                            <label className=\"card-item__dateTitle\">\n                                Expires\n                            </label>\n                            <label className=\"card-item__dateItem\">\n                                <SwitchTransition in-out>\n                                    <CSSTransition\n                                        classNames=\"slide-fade-up\"\n                                        timeout={200}\n                                        key={cardMonth}\n                                    >\n                                        <span>\n                                            {!cardMonth ? 'MM' : cardMonth}{' '}\n                                        </span>\n                                    </CSSTransition>\n                                </SwitchTransition>\n                            </label>\n                            /\n                            <label\n                                htmlFor=\"cardYear\"\n                                className=\"card-item__dateItem\"\n                            >\n                                <SwitchTransition out-in>\n                                    <CSSTransition\n                                        classNames=\"slide-fade-up\"\n                                        timeout={250}\n                                        key={cardYear}\n                                    >\n                                        <span>\n                                            {!cardYear\n                                                ? 'YY'\n                                                : cardYear\n                                                      .toString()\n                                                      .substr(-2)}\n                                        </span>\n                                    </CSSTransition>\n                                </SwitchTransition>\n                            </label>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"card-item__side -back\">\n                <div className=\"card-item__cover\">\n                    <img\n                        alt=\"\"\n                        src={`/mandate/card-background/${BACKGROUND_IMG}`}\n                        className=\"card-item__bg\"\n                    />\n                </div>\n                <div className=\"card-item__band\" />\n                <div className=\"card-item__cvv\">\n                    <div className=\"card-item__cvvTitle\">CVV</div>\n                    <div className=\"card-item__cvvBand\">\n                        <TransitionGroup>\n                            {cardCvv.split('').map((val, index) => (\n                                <CSSTransition\n                                    classNames=\"zoom-in-out\"\n                                    key={index}\n                                    timeout={250}\n                                >\n                                    <span>*</span>\n                                </CSSTransition>\n                            ))}\n                        </TransitionGroup>\n                    </div>\n                    <div className=\"card-item__type\">\n                        <img\n                            alt=\"card-type\"\n                            src={'/mandate/card-type/visa.png'}\n                            className=\"card-item__typeImg\"\n                        />\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default Card;\n","import React, { useState, useRef, useCallback } from 'react';\nimport CForm from './components/form';\nimport Card from './components/card';\n\nconst initialState = {\n    cardNumber: '#### #### #### ####',\n    cardHolder: 'FULL NAME',\n    cardMonth: '',\n    cardYear: '',\n    cardCvv: '',\n    isCardFlipped: false\n};\n\nconst MainScreen = () => {\n    const [state, setState] = useState(initialState);\n    const [currentFocusedElm, setCurrentFocusedElm] = useState(null);\n\n    const updateStateValues = useCallback(\n        (keyName, value) => {\n            setState({\n                ...state,\n                [keyName]: value || initialState[keyName]\n            });\n        },\n        [state]\n    );\n\n    // References for the Form Inputs used to focus corresponding inputs.\n    let formFieldsRefObj = {\n        cardNumber: useRef(),\n        cardHolder: useRef(),\n        cardDate: useRef(),\n        cardCvv: useRef()\n    };\n\n    let focusFormFieldByKey = useCallback((key) => {\n        formFieldsRefObj[key].current.focus();\n    });\n\n    // This are the references for the Card DIV elements.\n    let cardElementsRef = {\n        cardNumber: useRef(),\n        cardHolder: useRef(),\n        cardDate: useRef()\n    };\n\n    let onCardFormInputFocus = (_event, inputName) => {\n        const refByName = cardElementsRef[inputName];\n        setCurrentFocusedElm(refByName);\n    };\n\n    let onCardInputBlur = useCallback(() => {\n        setCurrentFocusedElm(null);\n    }, []);\n\n    return (\n        <div className=\"wrapper\">\n            <CForm\n                cardMonth={state.cardMonth}\n                cardYear={state.cardYear}\n                onUpdateState={updateStateValues}\n                cardNumberRef={formFieldsRefObj.cardNumber}\n                cardHolderRef={formFieldsRefObj.cardHolder}\n                cardDateRef={formFieldsRefObj.cardDate}\n                onCardInputFocus={onCardFormInputFocus}\n                onCardInputBlur={onCardInputBlur}\n            >\n                <Card\n                    cardNumber={state.cardNumber}\n                    cardHolder={state.cardHolder}\n                    cardMonth={state.cardMonth}\n                    cardYear={state.cardYear}\n                    cardCvv={state.cardCvv}\n                    isCardFlipped={state.isCardFlipped}\n                    currentFocusedElm={currentFocusedElm}\n                    onCardElementClick={focusFormFieldByKey}\n                    cardNumberRef={cardElementsRef.cardNumber}\n                    cardHolderRef={cardElementsRef.cardHolder}\n                    cardDateRef={cardElementsRef.cardDate}\n                ></Card>\n            </CForm>\n        </div>\n    );\n};\n\nexport default MainScreen;\n","import React from 'react';\nimport './App.scss';\nimport MainScreen from './screens/MainScreen';\n\nfunction App() {\n    return <MainScreen />;\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}