(this["webpackJsonpreact-interactive-paycard"]=this["webpackJsonpreact-interactive-paycard"]||[]).push([[0],{13:function(e,a,t){e.exports=t(22)},18:function(e,a,t){},19:function(e,a,t){},22:function(e,a,t){"use strict";t.r(a);var r=t(0),c=t.n(r),n=t(6),l=t.n(n),d=(t(18),t(8)),m=t(10),s=t(2),i=(new Date).getFullYear(),o=Array.from({length:12},(function(e,a){var t=a+1;return t<=9?"0"+t:t})),u=Array.from({length:9},(function(e,a){return i+a}));function p(e){var a=e.cardMonth,t=e.cardYear,n=e.onUpdateState,l=e.cardNumberRef,d=e.cardHolderRef,m=e.cardDateRef,i=e.onCardInputFocus,p=e.onCardInputBlur,f=e.cardCvv,v=e.children,_=Object(r.useState)(""),E=Object(s.a)(_,2),N=E[0],b=E[1],h=Object(r.useState)(""),C=Object(s.a)(h,2),g=(C[0],C[1],Object(r.useState)("")),j=Object(s.a)(g,2),O=(j[0],j[1],function(e){var a=e.target,t=a.name,r=a.value;n(t,r)});return c.a.createElement("div",{className:"card-form"},c.a.createElement("div",{className:"card-list"},v),c.a.createElement("div",{className:"card-form__inner"},c.a.createElement("div",{className:"card-input"},c.a.createElement("label",{htmlFor:"cardNumber",className:"card-input__label"},"card number"),c.a.createElement("input",{type:"tel",name:"cardNumber",className:"card-input__input",autoComplete:"off",onChange:function(e){var a=e.target,t=a.value,r=a.name,c=t;t=t.replace(/\D/g,""),/^3[47]\d{0,13}$/.test(t)||/^3(?:0[0-5]|[68]\d)\d{0,11}$/.test(t)?c=t.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{6})/,"$1 $2 "):/^\d{0,16}$/.test(t)&&(c=t.replace(/(\d{4})/,"$1 ").replace(/(\d{4}) (\d{4})/,"$1 $2 ").replace(/(\d{4}) (\d{4}) (\d{4})/,"$1 $2 $3 ")),b(c.trimRight()),n(r,c)},maxLength:"19",ref:l,onFocus:function(e){return i(e,"cardNumber")},onBlur:p,value:N})),c.a.createElement("div",{className:"card-input"},c.a.createElement("label",{htmlFor:"cardName",className:"card-input__label"},"card holder"),c.a.createElement("input",{type:"text",className:"card-input__input",autoComplete:"off",name:"cardHolder",onChange:O,ref:d,onFocus:function(e){return i(e,"cardHolder")},onBlur:p})),c.a.createElement("div",{className:"card-form__row"},c.a.createElement("div",{className:"card-form__col"},c.a.createElement("div",{className:"card-form__group"},c.a.createElement("label",{htmlFor:"cardMonth",className:"card-input__label"},"expiration date"),c.a.createElement("select",{className:"card-input__input -select",value:a,name:"cardMonth",onChange:O,ref:m,onFocus:function(e){return i(e,"cardDate")},onBlur:p},c.a.createElement("option",{value:"",disabled:!0},"month"),o.map((function(e,a){return c.a.createElement("option",{key:a,value:e},e)}))),c.a.createElement("select",{name:"cardYear",className:"card-input__input -select",value:t,onChange:O,onFocus:function(e){return i(e,"cardDate")},onBlur:p},c.a.createElement("option",{value:"",disabled:!0},"year"),u.map((function(e,a){return c.a.createElement("option",{key:a,value:e},e)}))))),c.a.createElement("div",{className:"card-form__col -cvv"},c.a.createElement("div",{className:"card-input"},c.a.createElement("label",{htmlFor:"cardCvv",className:"card-input__label"},"CVV"),c.a.createElement("input",{type:"tel",className:"card-input__input",maxLength:"4",autoComplete:"off",name:"cardCvv",onChange:O,onFocus:function(e){n("isCardFlipped",!0)},onBlur:function(e){n("isCardFlipped",!1)},ref:f})))),c.a.createElement("button",{class:"card-form__button",onClick:function(){window.ReactNativeWebView&&window.ReactNativeWebView.postMessage([N,a,t,0,0].toString())}},"submit")))}var f=t(26),v=t(25),_=t(24),E=(t(19),{visa:"^4",amex:"^(34|37)",mastercard:"^5[1-5]",discover:"^6011",unionpay:"^62",troy:"^9792",diners:"^(30[0-5]|36)"}),N=function(){var e=Math.floor(25*Math.random()+1);return"".concat(e,".jpeg")}(),b=function(e){var a=e.cardHolder,t=e.cardNumber,n=e.cardMonth,l=e.cardYear,d=e.cardCvv,m=e.isCardFlipped,i=e.currentFocusedElm,o=e.onCardElementClick,u=e.cardNumberRef,p=e.cardHolderRef,b=e.cardDateRef,h=Object(r.useState)(null),C=Object(s.a)(h,2),g=C[0],j=C[1],O=Object(r.useMemo)((function(){return function(e){for(var a,t=e,r=0,c=Object.entries(E);r<c.length;r++){var n=Object(s.a)(c[r],2),l=n[0],d=n[1];if(a=new RegExp(d),null!=t.match(a))return l}return"visa"}(t)}),[t]);Object(r.useEffect)((function(){if(i){var e=(a=i.current)?{width:"".concat(a.offsetWidth,"px"),height:"".concat(a.offsetHeight,"px"),transform:"translateX(".concat(a.offsetLeft,"px) translateY(").concat(a.offsetTop,"px)")}:null;j(e)}var a}),[i]);return c.a.createElement("div",{className:"card-item "+(m?"-active":"")},c.a.createElement("div",{className:"card-item__side -front"},c.a.createElement("div",{className:"card-item__focus ".concat(i?"-active":""),style:g}),c.a.createElement("div",{className:"card-item__cover"},c.a.createElement("img",{alt:"",src:"/mandate/card-background/".concat(N),className:"card-item__bg"})),c.a.createElement("div",{className:"card-item__wrapper"},c.a.createElement("div",{className:"card-item__top"},c.a.createElement("img",{src:"/chip.png",alt:"",className:"card-item__chip"}),c.a.createElement("div",{className:"card-item__type"},c.a.createElement("img",{alt:O,src:"/mandate/card-type/".concat(O,".png"),className:"card-item__typeImg"}))),c.a.createElement("label",{className:"card-item__number",ref:u,onClick:function(){return o("cardNumber")}},c.a.createElement(f.a,{className:"slide-fade-up",component:"div"},t?function(e){var a=e.split("");return a.forEach((function(e,t){t>4&&t<14&&" "!==a[t]&&(a[t]="*")})),a}(t).map((function(e,a){return c.a.createElement(v.a,{classNames:"slide-fade-up",timeout:250,key:a},c.a.createElement("div",{className:"card-item__numberItem"},e))})):c.a.createElement(v.a,{classNames:"slide-fade-up",timeout:250},c.a.createElement("div",{className:"card-item__numberItem"},"#")))),c.a.createElement("div",{className:"card-item__content"},c.a.createElement("label",{className:"card-item__info",onClick:function(){return o("cardHolder")},ref:p},c.a.createElement("div",{className:"card-item__holder"},"Card Holder"),c.a.createElement("div",{className:"card-item__name"},c.a.createElement(f.a,{component:"div",className:"slide-fade-up"},"FULL NAME"===a?c.a.createElement(v.a,{classNames:"slide-fade-up",timeout:250},c.a.createElement("div",null,"FULL NAME")):a.split("").map((function(e,a){return c.a.createElement(v.a,{timeout:250,classNames:"slide-fade-right",key:a},c.a.createElement("span",{className:"card-item__nameItem"},e))}))))),c.a.createElement("div",{className:"card-item__date",onClick:function(){return o("cardDate")},ref:b},c.a.createElement("label",{className:"card-item__dateTitle"},"Expires"),c.a.createElement("label",{className:"card-item__dateItem"},c.a.createElement(_.a,{"in-out":!0},c.a.createElement(v.a,{classNames:"slide-fade-up",timeout:200,key:n},c.a.createElement("span",null,n||"MM"," ")))),"/",c.a.createElement("label",{htmlFor:"cardYear",className:"card-item__dateItem"},c.a.createElement(_.a,{"out-in":!0},c.a.createElement(v.a,{classNames:"slide-fade-up",timeout:250,key:l},c.a.createElement("span",null,l?l.toString().substr(-2):"YY")))))))),c.a.createElement("div",{className:"card-item__side -back"},c.a.createElement("div",{className:"card-item__cover"},c.a.createElement("img",{alt:"",src:"/mandate/card-background/".concat(N),className:"card-item__bg"})),c.a.createElement("div",{className:"card-item__band"}),c.a.createElement("div",{className:"card-item__cvv"},c.a.createElement("div",{className:"card-item__cvvTitle"},"CVV"),c.a.createElement("div",{className:"card-item__cvvBand"},c.a.createElement(f.a,null,d.split("").map((function(e,a){return c.a.createElement(v.a,{classNames:"zoom-in-out",key:a,timeout:250},c.a.createElement("span",null,"*"))})))),c.a.createElement("div",{className:"card-item__type"},c.a.createElement("img",{alt:"card-type",src:"/mandate/card-type/visa.png",className:"card-item__typeImg"})))))},h={cardNumber:"#### #### #### ####",cardHolder:"FULL NAME",cardMonth:"",cardYear:"",cardCvv:"",isCardFlipped:!1},C=function(){var e=Object(r.useState)(h),a=Object(s.a)(e,2),t=a[0],n=a[1],l=Object(r.useState)(null),i=Object(s.a)(l,2),o=i[0],u=i[1],f=Object(r.useCallback)((function(e,a){n(Object(m.a)(Object(m.a)({},t),{},Object(d.a)({},e,a||h[e])))}),[t]),v={cardNumber:Object(r.useRef)(),cardHolder:Object(r.useRef)(),cardDate:Object(r.useRef)(),cardCvv:Object(r.useRef)()},_=Object(r.useCallback)((function(e){v[e].current.focus()})),E={cardNumber:Object(r.useRef)(),cardHolder:Object(r.useRef)(),cardDate:Object(r.useRef)()},N=Object(r.useCallback)((function(){u(null)}),[]);return c.a.createElement("div",{className:"wrapper"},c.a.createElement(p,{cardMonth:t.cardMonth,cardYear:t.cardYear,onUpdateState:f,cardNumberRef:v.cardNumber,cardHolderRef:v.cardHolder,cardDateRef:v.cardDate,onCardInputFocus:function(e,a){u(E[a])},onCardInputBlur:N},c.a.createElement(b,{cardNumber:t.cardNumber,cardHolder:t.cardHolder,cardMonth:t.cardMonth,cardYear:t.cardYear,cardCvv:t.cardCvv,isCardFlipped:t.isCardFlipped,currentFocusedElm:o,onCardElementClick:_,cardNumberRef:E.cardNumber,cardHolderRef:E.cardHolder,cardDateRef:E.cardDate})))};var g=function(){return c.a.createElement(C,null)};l.a.render(c.a.createElement(g,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.15871e1f.chunk.js.map